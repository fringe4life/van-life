model Van {
  id          String    @id @default(cuid()) @db.VarChar(25)
  name        String    @unique @db.VarChar(60)
  slug        String    @unique @db.VarChar(70)
  price       Int       @db.SmallInt
  description String    @db.VarChar(1024)
  imageUrl    String
  type        VanType
  hostId      String    @db.VarChar(25)
  isRented    Boolean   @default(false)
  createdAt   DateTime  @default(now()) @db.Date
  state       VanState? @default(AVAILABLE)
  discount    Int?      @default(0) @db.SmallInt
  rent        Rent[]
  userInfo    UserInfo  @relation(fields: [hostId], references: [userId])

  // Indexes optimized for actual query patterns
  @@index([slug]) // Used in: getVanBySlug (public-facing URLs)
  @@index([hostId]) // Used in: getHostVan, getHostVans, getHostVanCount
  @@index([type]) // Used in: getVans, getVansCount
  @@index([hostId, id(sort: Desc)]) // Optimized for: getHostVans pagination (where hostId + orderBy id)
  @@index([type, id]) // Optimized for: getVans pagination (where type + orderBy id, direction is dynamic)
}
